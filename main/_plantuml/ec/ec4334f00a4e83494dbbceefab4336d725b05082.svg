<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="993px" preserveAspectRatio="none" style="width:740px;height:993px;background:#FFFFFF;" version="1.1" viewBox="0 0 740 993" width="740px" zoomAndPan="magnify"><title>Sequence Diagram: Flush Local Representation to Data File</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="470.9619" x="135.7908" y="27.9951">Sequence Diagram: Flush Local Representation to Data File</text><rect fill="transparent" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="581.8218" x="10" y="148.8594"/><rect fill="transparent" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="340.8428" x="10" y="324.3281"/><rect fill="transparent" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="287.8462" x="10" y="483.6641"/><rect fill="transparent" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="723.5435" x="10" y="630"/><rect fill="transparent" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="723.5435" x="10" y="792.4688"/><g><title>User</title><rect fill="transparent" height="884.3438" width="8" x="38.9551" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="73.5938" y2="957.9375"/></g><g><title>&#171;component&#187; :kvs</title><rect fill="transparent" height="884.3438" width="8" x="208.4561" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="211.8633" x2="211.8633" y1="73.5938" y2="957.9375"/></g><g><title>&#171;component&#187; :json</title><rect fill="transparent" height="884.3438" width="8" x="503.7612" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="507.7007" x2="507.7007" y1="73.5938" y2="957.9375"/></g><g><title>&#171;component&#187; :fs</title><rect fill="transparent" height="884.3438" width="8" x="653.6826" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="656.8218" x2="656.8218" y1="73.5938" y2="957.9375"/></g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="20" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="27" y="62.292">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="20" y="956.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="27" y="976.9326">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.1855" x="140.8633" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1855" x="147.8633" y="62.292">&#171;component&#187; :kvs</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.1855" x="140.8633" y="956.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1855" x="147.8633" y="976.9326">&#171;component&#187; :kvs</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.1211" x="433.7007" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.1211" x="440.7007" y="62.292">&#171;component&#187; :json</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.1211" x="433.7007" y="956.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.1211" x="440.7007" y="976.9326">&#171;component&#187; :json</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.7217" x="591.8218" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7217" x="598.8218" y="62.292">&#171;component&#187; :fs</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.7217" x="591.8218" y="956.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7217" x="598.8218" y="976.9326">&#171;component&#187; :fs</text><polygon fill="#181818" points="200.4561,100.7266,210.4561,104.7266,200.4561,108.7266,204.4561,104.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="42.9551" x2="206.4561" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.1431" x="49.9551" y="99.6606">Flush KVS</text><polygon fill="#181818" points="495.7612,129.8594,505.7612,133.8594,495.7612,137.8594,499.7612,133.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="501.7612" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.3052" x="219.4561" y="128.7935">Generate string from local representation</text><path d="M10,148.8594 L74.4429,148.8594 L74.4429,155.9922 L64.4429,165.9922 L10,165.9922 L10,148.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="581.8218" x="10" y="148.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="161.9263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77.0322" x="89.4429" y="161.0698">[json-string]</text><polygon fill="#181818" points="223.4561,183.125,213.4561,187.125,223.4561,191.125,219.4561,187.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="506.7612" y1="187.125" y2="187.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9072" x="229.4561" y="182.0591">JSON data string</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="591.8218" y1="196.125" y2="196.125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112.8896" x="15" y="206.3354">[json-string-error]</text><polygon fill="#181818" points="223.4561,227.0625,213.4561,231.0625,223.4561,235.0625,219.4561,231.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="506.7612" y1="231.0625" y2="231.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.4873" x="229.4561" y="225.9966">JSON generator error</text><polygon fill="#181818" points="53.9551,256.1953,43.9551,260.1953,53.9551,264.1953,49.9551,260.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="260.1953" y2="260.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.4873" x="59.9551" y="255.1294">JSON generator error</text><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="254.4561" y1="296.3281" y2="296.3281"/><line style="stroke:#181818;stroke-width:1;" x1="254.4561" x2="254.4561" y1="296.3281" y2="309.3281"/><line style="stroke:#181818;stroke-width:1;" x1="213.4561" x2="254.4561" y1="309.3281" y2="309.3281"/><polygon fill="#181818" points="223.4561,305.3281,213.4561,309.3281,223.4561,313.3281,219.4561,309.3281" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.3438" x="219.4561" y="291.2622">Rotate snapshots</text><path d="M10,324.3281 L74.4429,324.3281 L74.4429,331.4609 L64.4429,341.4609 L10,341.4609 L10,324.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="340.8428" x="10" y="324.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="337.395">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.4111" x="89.4429" y="336.5386">[snapshot-rotate-success]</text><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="212.4561" x2="254.4561" y1="362.5938" y2="362.5938"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="254.4561" x2="254.4561" y1="362.5938" y2="375.5938"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="213.4561" x2="254.4561" y1="375.5938" y2="375.5938"/><polygon fill="#181818" points="223.4561,371.5938,213.4561,375.5938,223.4561,379.5938,219.4561,375.5938" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.3867" x="219.4561" y="357.5278">Snapshots rotated</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="350.8428" y1="384.5938" y2="384.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145.7285" x="15" y="394.8042">[snapshot-rotate-error]</text><polygon fill="#181818" points="53.9551,415.5313,43.9551,419.5313,53.9551,423.5313,49.9551,419.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="419.5313" y2="419.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.501" x="59.9551" y="414.4653">Snapshot-Rotate-Error</text><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="254.4561" y1="455.6641" y2="455.6641"/><line style="stroke:#181818;stroke-width:1;" x1="254.4561" x2="254.4561" y1="455.6641" y2="468.6641"/><line style="stroke:#181818;stroke-width:1;" x1="213.4561" x2="254.4561" y1="468.6641" y2="468.6641"/><polygon fill="#181818" points="223.4561,464.6641,213.4561,468.6641,223.4561,472.6641,219.4561,468.6641" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.4209" x="219.4561" y="450.5981">Create JSON data hash</text><path d="M10,483.6641 L74.4429,483.6641 L74.4429,490.7969 L64.4429,500.7969 L10,500.7969 L10,483.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="287.8462" x="10" y="483.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="496.731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.2139" x="89.4429" y="495.8745">[hash-created-success]</text><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="254.4561" y1="521.9297" y2="521.9297"/><line style="stroke:#181818;stroke-width:1;" x1="254.4561" x2="254.4561" y1="521.9297" y2="534.9297"/><line style="stroke:#181818;stroke-width:1;" x1="213.4561" x2="254.4561" y1="534.9297" y2="534.9297"/><polygon fill="#181818" points="223.4561,530.9297,213.4561,534.9297,223.4561,538.9297,219.4561,534.9297" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3901" x="219.4561" y="516.8638">Data hash</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="297.8462" y1="543.9297" y2="543.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.6572" x="15" y="554.1401">[hash-create-error]</text><polygon fill="#181818" points="53.9551,574.8672,43.9551,578.8672,53.9551,582.8672,49.9551,578.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="578.8672" y2="578.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.1401" x="59.9551" y="573.8013">Hash-Calc-Error</text><polygon fill="#181818" points="645.6826,611,655.6826,615,645.6826,619,649.6826,615" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="651.6826" y1="615" y2="615"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0591" x="219.4561" y="609.9341">Write JSON data string to file</text><path d="M10,630 L74.4429,630 L74.4429,637.1328 L64.4429,647.1328 L10,647.1328 L10,630 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="723.5435" x="10" y="630"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="643.0669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66.4834" x="89.4429" y="642.2104">[file-write]</text><polygon fill="#181818" points="223.4561,664.2656,213.4561,668.2656,223.4561,672.2656,219.4561,668.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="656.6826" y1="668.2656" y2="668.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.5684" x="229.4561" y="663.1997">File successfully written</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="733.5435" y1="677.2656" y2="677.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.3408" x="15" y="687.4761">[file-write-error]</text><polygon fill="#181818" points="223.4561,708.2031,213.4561,712.2031,223.4561,716.2031,219.4561,712.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="656.6826" y1="712.2031" y2="712.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.1885" x="229.4561" y="707.1372">File-Write-Error</text><polygon fill="#181818" points="53.9551,737.3359,43.9551,741.3359,53.9551,745.3359,49.9551,741.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="741.3359" y2="741.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.1885" x="59.9551" y="736.27">File-Write-Error</text><polygon fill="#181818" points="645.6826,773.4688,655.6826,777.4688,645.6826,781.4688,649.6826,777.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="212.4561" x2="651.6826" y1="777.4688" y2="777.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.959" x="219.4561" y="772.4028">Write JSON data hash to file</text><path d="M10,792.4688 L74.4429,792.4688 L74.4429,799.6016 L64.4429,809.6016 L10,809.6016 L10,792.4688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="723.5435" x="10" y="792.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="805.5356">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100.6812" x="89.4429" y="804.6792">[file-hash-write]</text><polygon fill="#181818" points="223.4561,826.7344,213.4561,830.7344,223.4561,834.7344,219.4561,830.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="656.6826" y1="830.7344" y2="830.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.5537" x="229.4561" y="825.6685">Hash file successfully written</text><polygon fill="#181818" points="53.9551,855.8672,43.9551,859.8672,53.9551,863.8672,49.9551,859.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="859.8672" y2="859.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.752" x="59.9551" y="854.8013">Flush successful</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="733.5435" y1="868.8672" y2="868.8672"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.5386" x="15" y="879.0776">[file-hash-write-error]</text><polygon fill="#181818" points="223.4561,899.8047,213.4561,903.8047,223.4561,907.8047,219.4561,903.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="217.4561" x2="656.6826" y1="903.8047" y2="903.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.6333" x="229.4561" y="898.7388">File-Hash-Write-Error</text><polygon fill="#181818" points="53.9551,928.9375,43.9551,932.9375,53.9551,936.9375,49.9551,932.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.9551" x2="211.4561" y1="932.9375" y2="932.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.6333" x="59.9551" y="927.8716">File-Hash-Write-Error</text><!--SRC=[ZPF1KeCm48RlFCLExtc17hoqLaSTdIcZ7frCMDfecc0IT7mc7y5Rdyna0mLQYd8XaF_V_Vw5UEaLGexlDMg1i9HyO_bk3YjLkotS6S4LhB6ow51xxgNHu0qikUUmaWgphEBMIo4hhZtC7XtQ6N07N7XZXtlxRs5sbT6Xplu7vcyVZfJXFgbxTKQJC2vUWZAqc3IKgMxfiemeW5t49csaswSyoy9pVDqhEOShr6YvHt3UIhs1qfeTA1g07GmWr5MUl2n9CmXNhnQmjkLD_d0FHHnMeqJbi6zbQ6qOr7I1JI8BKJer9GWgYdX6XxeuHALgQ-CfeEQLsnhlKfBsaLdQPguM0fqRj25xtleWAOiKvzX_5hBriyJ1BiSf5nOZPJUxBNVRX1fNJD1-SShP-9S73-7rFEVHhgDemPKOWIf3pMSh1qZDFnAEGacd8CB55VkCGkfGzYONZmeql6Mjr1T4dKUT43jdZ_3OpuYXuHk9SABvAqCSp4W2cjTuZ3Wb4erd6OEYCzUfUtcxFbEXwSFy9_c9CCR_1G00]--></g></svg>